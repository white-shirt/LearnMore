# 性能  

## 网络相关  

### DNS 预解析  

```javascript
<link rel="dns-prefetch" href="//example.com />
```  

### 缓存  

参考 浏览器与网络相关   

### 预加载  

```javascript
<link rel="preload" href="http://example.com" />
```  

预加载可以一定程度上降低首屏的加载时间，因为可以将一些不影响首屏但重要的文件延后加载，唯一缺点就是兼容性不好。

### 预渲染  

```javascript
<link rel="prerender" href="http://example.com" />
```    

## 文件优化  

### 图片优化  

对于一张 100 _ 100 像素的图片来说，图像上有 10000 个像素点，如果每个像素的值是 RGBA 存储的话，那么也就是说每个像素有 4 个通道，每个通道 1 个字节（8 位 = 1 个字节），所以该图片大小大概为 39KB（10000 _ 1 * 4 / 1024）  

* 减少像素点
* 减少每个像素点能够显示的颜色  

### 图片加载优化  

1. 尽量不用图片，能用 CSS 就用 CSS
2. 雪碧图
3. 移动端 根据屏幕尺寸请求裁剪好的图片，尽量不显示原图  
4. 小图使用 base64  

## 其他文件优化  

* CSS 放在 head 中
* script 标签放在 body 底部，也可以在 script 标签中加上 defer，表示该文件会并行下载，等到 HTML 解析完成后顺序执行，对于没有其它依赖的 js 文件可以加上 async，表示加载后渲染后续文档的过程将和 JS 文件的加载并行无序的进行。  

## CDN  

静态资源尽量使用 CDN 加载，由于浏览器对于单个域名有并发请求上限，可以考虑使用多个 CDN 域名。对于 CDN 加载静态资源需要注意 CDN 域名要与主站不同，否则每次请求都会带上主站的 Cookie。  


